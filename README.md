### Fophelper

Статичний веб додаток для встановлення зв'язків між документами ФОП, які зберігаються разом в директорії на Google Drive.

### Мотивація

Ідея цього веб додатку структурувати важливі документи для ФОП. Таким чином, документи зберігаються в одному місці (директорія Google Drive) і пов'язані між собою. Документи тут це виписки з ПриватБанку та акти виконаних робіт.

Додаток синхронізує документи в спеціальну директорію на Google Drive з назвою _woopzz/fophelper_.

Платежі зберігаються у формі виписки з ПриватБанку. Додаток передабачає можливість завантаження нової виписки. Платежі з неї будуть додані до існуючих. Всі платежі зберігаються в одному файлі _payments.csv_.

Додаток не передбачає можливості завантажувати акти на Google Drive - це слід робити самостійно через інші клієнти. Акти мають знаходитись в директорії _Acts_.

Додаток надає можливість пов'язувати документи. Ці співставлення зберігаються у файлі _matchings.csv_. Наразі очевидної причини для цього немає, проте ця інформація може бути корисної в майбутньому для аналітики і будування звітів.

### Як користуватися?

На сторінці репозиторію є посилання на додаток, що хоститься на Github Pages. Проте синхронізація з Google Drive вимкнена.

Щоб користуватись синхронізацією потрібно (1) створити власний Google проект, (2) вказати його облікові дані в константах коду та (3) запустити локально (в тестовому режимі або зробити білд).

#### Як підготувати проект на Google Cloud?

1. Створити новий проект на Google Cloud.
2. Активувати "Google Drive API".
3. Створити OAuth 2.0 Client ID. Тип додатку має бути "Web application". В "Authorized JavaScript origins" потрібно вказати адресу сервера, напр. "http://localhost:8080".
4. Створити API ключ.
5. Відредагувати змінні "GOOGLE_CLIENT_ID" та "GOOGLE_API_KEY" [в файлі data.ts](./src/data.ts) відповідно до отриманих на попередніх кроках данних.
6. Додати електронну адресу, яка прив'язана до Google Account, як тестового користувача. В налаштуваннях Google Auth Platform є вкладка "Audience". Найпростіше знайти через меню пошуку.

#### Як запустити додаток?

Для роботи необхідно встановити npm. Якщо використовуєте devcontainer, тоді не зважайте - там все є.

1. Клонувати репозиторій.
2. Запустити команду `npm install --save-dev` для завантаження залежностей.
3. Запустити команду `npm run devserver` для запуску тестового сервера webpack (hot-reload з коробки).

Для створення прод білда, потрібно запустити команду `npm run build`. Файли знаходяться в директорії dist у кореневій папці проекту.
